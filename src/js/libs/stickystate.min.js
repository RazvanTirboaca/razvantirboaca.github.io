!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.StickyState=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){function getSrollPosition(){return window.scrollY||window.pageYOffset||0}function getDocumentHeight(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}function getAbsolutBoundingRect(el,fixedHeight){var rect=el.getBoundingClientRect(),top=rect.top+getSrollPosition(),height=fixedHeight||rect.height;return{top:top,bottom:top+height,height:height,width:rect.width}}function addBounds(rect1,rect2){var rect=assign({},rect1);return rect.top-=rect2.top,rect.bottom=rect.top+rect1.height,rect}function getPositionStyle(el){var obj={top:null,bottom:null};for(var key in obj){var value=parseInt(window.getComputedStyle(el)[key]);value=isNaN(value)?null:value,obj[key]=value}return obj}function getPreviousElementSibling(el){var prev=el.previousElementSibling;return prev&&"script"===prev.tagName.toLocaleLowerCase()&&(prev=getPreviousElementSibling(prev)),prev}var assign=require("object-assign"),FastScroll=require("fastscroll"),_globals={featureTested:!1},defaults={disabled:!1,className:"sticky",fixedClass:"sticky-fixed",stateClassName:"is-sticky"},StickyState=function(element,options){if(!element)throw new Error("StickyState needs a DomElement");this.el=element,this.options=assign({},defaults,options),this.setState({sticky:!1,absolute:!1,fixedOffset:"",offsetHeight:0,bounds:{top:null,bottom:null,height:null,width:null},restrict:{top:null,bottom:null,height:null,width:null},style:{top:null,bottom:null},disabled:this.options.disabled},!0),this.scrollTarget="auto"!==window.getComputedStyle(this.el.parentNode).overflow?window:this.el.parentNode,this.hasOwnScrollTarget=this.scrollTarget!==window,this.hasOwnScrollTarget&&(this.updateFixedOffset=this.updateFixedOffset.bind(this)),this.firstRender=!0,this.resizeHandler=null,this.fastScroll=null,this.wrapper=null,this.render=this.render.bind(this),this.addSrollHandler(),this.addResizeHandler(),this.render()};StickyState.prototype.setState=function(newState,silent){this.lastState=this.state||newState,this.state=assign({},this.state,newState),silent!==!0&&this.render()},StickyState.prototype.getBoundingClientRect=function(){return this.el.getBoundingClientRect()},StickyState.prototype.getBounds=function(noCache){var clientRect=this.getBoundingClientRect(),offsetHeight=getDocumentHeight();if(noCache!==!0&&null!==this.state.bounds.height&&this.state.offsetHeight===offsetHeight&&clientRect.height===this.state.bounds.height)return{offsetHeight:offsetHeight,style:this.state.style,bounds:this.state.bounds,restrict:this.state.restrict};var rect,restrict,style=getPositionStyle(this.el),child=this.wrapper||this.el,offset=0;if(this.canSticky()){var elem=getPreviousElementSibling(child);offset=0,elem?(offset=parseInt(window.getComputedStyle(elem)["margin-bottom"]),offset=offset||0,rect=getAbsolutBoundingRect(elem),this.hasOwnScrollTarget&&(rect=addBounds(rect,getAbsolutBoundingRect(this.scrollTarget)),offset+=this.fastScroll.scrollY),rect.top=rect.bottom+offset):(elem=child.parentNode,offset=parseInt(window.getComputedStyle(elem)["padding-top"]),offset=offset||0,rect=getAbsolutBoundingRect(elem),this.hasOwnScrollTarget&&(rect=addBounds(rect,getAbsolutBoundingRect(this.scrollTarget)),offset+=this.fastScroll.scrollY),rect.top=rect.top+offset),this.hasOwnScrollTarget&&(restrict=getAbsolutBoundingRect(this.scrollTarget),restrict.top=0,restrict.height=this.scrollTarget.scrollHeight||restrict.height,restrict.bottom=restrict.height),rect.height=child.clientHeight,rect.width=child.clientWidth,rect.bottom=rect.top+rect.height}else if(rect=getAbsolutBoundingRect(child,clientRect.height),this.hasOwnScrollTarget){var parentRect=getAbsolutBoundingRect(this.scrollTarget);offset=this.fastScroll.scrollY,rect=addBounds(rect,parentRect),restrict=parentRect,restrict.top=0,restrict.height=this.scrollTarget.scrollHeight||restrict.height,restrict.bottom=restrict.height}return restrict=restrict||getAbsolutBoundingRect(child.parentNode),{offsetHeight:offsetHeight,style:style,bounds:rect,restrict:restrict}},StickyState.prototype.updateBounds=function(silent){silent=silent===!0,this.setState(this.getBounds(),silent)},StickyState.prototype.updateFixedOffset=function(){this.lastState.fixedOffset=this.state.fixedOffset,this.state.fixedOffset=this.state.sticky?this.scrollTarget.getBoundingClientRect().top+"px":"",this.lastState.fixedOffset!==this.state.fixedOffset&&this.render()},StickyState.prototype.canSticky=function(){return StickyState["native"]()},StickyState.prototype.addSrollHandler=function(){if(!this.fastScroll){var hasScrollTarget=FastScroll.hasScrollTarget(this.scrollTarget);this.fastScroll=FastScroll.getInstance(this.scrollTarget),this.onScroll=this.onScroll.bind(this),this.fastScroll.on("scroll:start",this.onScroll),this.fastScroll.on("scroll:progress",this.onScroll),this.fastScroll.on("scroll:stop",this.onScroll),hasScrollTarget&&this.fastScroll.scrollY>0&&this.fastScroll.trigger("scroll:progress")}},StickyState.prototype.removeSrollHandler=function(){this.fastScroll&&(this.fastScroll.off("scroll:start",this.onScroll),this.fastScroll.off("scroll:progress",this.onScroll),this.fastScroll.off("scroll:stop",this.onScroll),this.fastScroll.destroy(),this.fastScroll=null)},StickyState.prototype.addResizeHandler=function(){this.resizeHandler||(this.resizeHandler=this.onResize.bind(this),window.addEventListener("resize",this.resizeHandler,!1),window.addEventListener("orientationchange",this.resizeHandler,!1))},StickyState.prototype.removeResizeHandler=function(){this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),window.removeEventListener("orientationchange",this.resizeHandler),this.resizeHandler=null)},StickyState.prototype.onScroll=function(){this.updateStickyState(!1),this.hasOwnScrollTarget&&!this.canSticky()&&(this.updateFixedOffset(),this.state.sticky&&!this.hasWindowScrollListener?(this.hasWindowScrollListener=!0,FastScroll.getInstance(window).on("scroll:progress",this.updateFixedOffset)):!this.state.sticky&&this.hasWindowScrollListener&&(this.hasWindowScrollListener=!1,FastScroll.getInstance(window).off("scroll:progress",this.updateFixedOffset)))},StickyState.prototype.onResize=function(){this.updateBounds(!0),this.updateStickyState(!1)},StickyState.prototype.getStickyState=function(){if(this.state.disabled)return{sticky:!1,absolute:!1};var scrollY=this.fastScroll.scrollY,top=this.state.style.top,bottom=this.state.style.bottom,sticky=this.state.sticky,absolute=this.state.absolute;if(null!==top){var offsetBottom=this.state.restrict.bottom-this.state.bounds.height-top;top=this.state.bounds.top-top,this.state.sticky===!1&&scrollY>=top&&offsetBottom>=scrollY?(sticky=!0,absolute=!1):this.state.sticky&&(top>scrollY||scrollY>offsetBottom)&&(sticky=!1,absolute=scrollY>offsetBottom)}else if(null!==bottom){scrollY+=window.innerHeight;var offsetTop=this.state.restrict.top+this.state.bounds.height-bottom;bottom=this.state.bounds.bottom+bottom,this.state.sticky===!1&&bottom>=scrollY&&scrollY>=offsetTop?(sticky=!0,absolute=!1):this.state.sticky&&(scrollY>bottom||offsetTop>scrollY)&&(sticky=!1,absolute=offsetTop>=scrollY)}return{sticky:sticky,absolute:absolute}},StickyState.prototype.updateStickyState=function(silent){var values=this.getStickyState();(values.sticky!==this.state.sticky||values.absolute!==this.state.absolute)&&(silent=silent===!0,values=assign(values,this.getBounds()),this.setState(values,silent))},StickyState.prototype.render=function(){var className=this.el.className;if(this.firstRender){if(this.firstRender=!1,!this.canSticky()){this.wrapper=document.createElement("div"),this.wrapper.className="sticky-wrap";var parent=this.el.parentNode;parent&&parent.insertBefore(this.wrapper,this.el),this.wrapper.appendChild(this.el),className+=" sticky-fixed"}this.updateBounds(!0),this.updateStickyState(!0)}if(!this.canSticky()){var height=this.state.disabled||null===this.state.bounds.height||!this.state.sticky&&!this.state.absolute?"auto":this.state.bounds.height+"px";if(this.wrapper.style.height=height,this.state.absolute!==this.lastState.absolute){this.wrapper.style.position=this.state.absolute?"relative":"";{className.indexOf("is-absolute")>-1}className=-1===className.indexOf("is-absolute")&&this.state.absolute?className+" is-absolute":className.split(" is-absolute").join(""),this.el.style.marginTop=this.state.absolute&&null!==this.state.style.top?this.state.restrict.height-(this.state.bounds.height+this.state.style.top)+(this.state.restrict.top-this.state.bounds.top)+"px":"",this.el.style.marginBottom=this.state.absolute&&null!==this.state.style.bottom?this.state.restrict.height-(this.state.bounds.height+this.state.style.bottom)+(this.state.restrict.bottom-this.state.bounds.bottom)+"px":""}this.hasOwnScrollTarget&&!this.state.absolute&&this.lastState.fixedOffset!==this.state.fixedOffset&&(this.el.style.marginTop=this.state.fixedOffset)}var hasStateClass=className.indexOf(this.options.stateClassName)>-1;return this.state.sticky&&!hasStateClass?className+=" "+this.options.stateClassName:!this.state.sticky&&hasStateClass&&(className=className.split(" "+this.options.stateClassName).join("")),this.el.className!==className&&(this.el.className=className),this.el},StickyState["native"]=function(){if(_globals.featureTested)return _globals.canSticky;if("undefined"!=typeof window){if(_globals.featureTested=!0,window.Modernizr&&window.Modernizr.hasOwnProperty("csspositionsticky"))return _globals.canSticky=window.Modernizr.csspositionsticky;var testEl=document.createElement("div");document.documentElement.appendChild(testEl);var prefixedSticky=["sticky","-webkit-sticky","-moz-sticky","-ms-sticky","-o-sticky"];_globals.canSticky=!1;for(var i=0;i<prefixedSticky.length&&(testEl.style.position=prefixedSticky[i],_globals.canSticky=!!window.getComputedStyle(testEl).position.match("sticky"),!_globals.canSticky);i++);document.documentElement.removeChild(testEl)}return _globals.canSticky},StickyState.apply=function(elements){if(elements)if(elements.length)for(var i=0;i<elements.length;i++)new StickyState(elements[i]);else new StickyState(elements)},module.exports=StickyState},{fastscroll:4,"object-assign":5}],2:[function(require,module){!function(exports){"use strict";var delegate=function(target,handler){var args=[].slice.call(arguments,2),fn=function(){return handler.apply(target,args)};return fn};"undefined"!=typeof module&&module.exports?module.exports=delegate:"undefined"!=typeof define?define(function(){return delegate}):exports.delegate=delegate}(this)},{}],3:[function(require,module){"use strict";function isEmpty(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}var _instanceMap={},EventDispatcher=function(){this._eventMap={},this._destroyed=!1};EventDispatcher.getInstance=function(key){if(!key)throw new Error("key must be");return _instanceMap[key]||(_instanceMap[key]=new EventDispatcher)},EventDispatcher.prototype.addListener=function(event,listener){var listeners=this.getListener(event);return listeners?-1===listeners.indexOf(listener)?(listeners.push(listener),!0):!1:(this._eventMap[event]=[listener],!0)},EventDispatcher.prototype.addListenerOnce=function(event,listener){var s=this,f2=function(){return s.removeListener(event,f2),listener.apply(this,arguments)};return this.addListener(event,f2)},EventDispatcher.prototype.removeListener=function(event,listener){if("undefined"==typeof listener)return this.removeAllListener(event);var listeners=this.getListener(event);if(listeners){var i=listeners.indexOf(listener);if(i>-1)return listeners=listeners.splice(i,1),listeners.length||delete this._eventMap[event],!0}return!1},EventDispatcher.prototype.removeAllListener=function(event){var listeners=this.getListener(event);return listeners?(this._eventMap[event].length=0,delete this._eventMap[event],!0):!1},EventDispatcher.prototype.hasListener=function(event){return null!==this.getListener(event)},EventDispatcher.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!isEmpty(this._eventMap)},EventDispatcher.prototype.dispatch=function(eventType,eventObject){var listeners=this.getListener(eventType);if(listeners){eventObject=eventObject||{},eventObject.type=eventType,eventObject.target=eventObject.target||this;for(var i=-1;++i<listeners.length;)listeners[i](eventObject);return!0}return!1},EventDispatcher.prototype.getListener=function(event){var result=this._eventMap?this._eventMap[event]:null;return result||null},EventDispatcher.prototype.destroy=function(){if(this._eventMap){for(var i in this._eventMap)this.removeAllListener(i);this._eventMap=null}this._destroyed=!0},EventDispatcher.prototype.on=EventDispatcher.prototype.bind=EventDispatcher.prototype.addEventListener=EventDispatcher.prototype.addListener,EventDispatcher.prototype.off=EventDispatcher.prototype.unbind=EventDispatcher.prototype.removeEventListener=EventDispatcher.prototype.removeListener,EventDispatcher.prototype.once=EventDispatcher.prototype.one=EventDispatcher.prototype.addListenerOnce,EventDispatcher.prototype.trigger=EventDispatcher.prototype.dispatchEvent=EventDispatcher.prototype.dispatch,module.exports=EventDispatcher},{}],4:[function(require,module){"use strict";var delegate=require("delegatejs"),EventDispatcher=require("eventdispatcher"),_instanceMap={},FastScroll=function(scrollTarget,options){scrollTarget=scrollTarget||window,this.options=options||{},this.options.hasOwnProperty("animationFrame")||(this.options.animationFrame=!0),"function"!=typeof window.requestAnimationFrame&&(this.options.animationFrame=!1),this.scrollTarget=scrollTarget,this.init()};FastScroll.___instanceMap=_instanceMap,FastScroll.getInstance=function(scrollTarget,options){return scrollTarget=scrollTarget||window,_instanceMap[scrollTarget]||(_instanceMap[scrollTarget]=new FastScroll(scrollTarget,options))},FastScroll.hasInstance=function(scrollTarget){return void 0!==_instanceMap[scrollTarget]},FastScroll.hasScrollTarget=FastScroll.hasInstance,FastScroll.clearInstance=function(scrollTarget){scrollTarget=scrollTarget||window,FastScroll.hasInstance(scrollTarget)&&(FastScroll.getInstance(scrollTarget).destroy(),delete _instanceMap[scrollTarget])},FastScroll.UP="up",FastScroll.DOWN="down",FastScroll.NONE="none",FastScroll.LEFT="left",FastScroll.RIGHT="right",FastScroll.prototype={destroyed:!1,scrollY:0,scrollX:0,lastScrollY:0,lastScrollX:0,timeout:0,speedY:0,speedX:0,stopFrames:5,currentStopFrames:0,firstRender:!0,animationFrame:!0,lastEvent:{type:null,scrollY:0,scrollX:0},scrolling:!1,init:function(){this.dispatcher=new EventDispatcher,this.updateScrollPosition=this.scrollTarget===window?delegate(this,this.updateWindowScrollPosition):delegate(this,this.updateElementScrollPosition),this.updateScrollPosition(),this.trigger=this.dispatchEvent,this.lastEvent.scrollY=this.scrollY,this.lastEvent.scrollX=this.scrollX,this.onScroll=delegate(this,this.onScroll),this.onNextFrame=delegate(this,this.onNextFrame),this.scrollTarget.addEventListener?(this.scrollTarget.addEventListener("mousewheel",this.onScroll,!1),this.scrollTarget.addEventListener("scroll",this.onScroll,!1)):this.scrollTarget.attachEvent&&(this.scrollTarget.attachEvent("onmousewheel",this.onScroll),this.scrollTarget.attachEvent("scroll",this.onScroll))},destroy:function(){this.destroyed||(this.cancelNextFrame(),this.scrollTarget.addEventListener?(this.scrollTarget.removeEventListener("mousewheel",this.onScroll),this.scrollTarget.removeEventListener("scroll",this.onScroll)):this.scrollTarget.attachEvent&&(this.scrollTarget.detachEvent("onmousewheel",this.onScroll),this.scrollTarget.detachEvent("scroll",this.onScroll)),this.dispatcher.off(),this.dispatcher=null,this.onScroll=null,this.updateScrollPosition=null,this.onNextFrame=null,this.scrollTarget=null,this.destroyed=!0)},getAttributes:function(){return{scrollY:this.scrollY,scrollX:this.scrollX,speedY:this.speedY,speedX:this.speedX,angle:0,directionY:0===this.speedY?FastScroll.NONE:this.speedY>0?FastScroll.UP:FastScroll.DOWN,directionX:0===this.speedX?FastScroll.NONE:this.speedX>0?FastScroll.RIGHT:FastScroll.LEFT}},updateWindowScrollPosition:function(){this.scrollY=window.scrollY||window.pageYOffset||0,this.scrollX=window.scrollX||window.pageXOffset||0},updateElementScrollPosition:function(){this.scrollY=this.scrollTarget.scrollTop,this.scrollX=this.scrollTarget.scrollLeft},onScroll:function(){if(this.currentStopFrames=0,this.firstRender&&(this.firstRender=!1,this.scrollY>1))return this.updateScrollPosition(),void this.dispatchEvent("scroll:progress");if(this.scrolling||(this.scrolling=!0,this.dispatchEvent("scroll:start"),this.options.animationFrame&&(this.nextFrameID=requestAnimationFrame(this.onNextFrame))),!this.options.animationFrame){clearTimeout(this.timeout),this.onNextFrame();var self=this;this.timeout=setTimeout(function(){self.onScrollStop()},100)}},onNextFrame:function(){return this.updateScrollPosition(),this.speedY=this.lastScrollY-this.scrollY,this.speedX=this.lastScrollX-this.scrollX,this.lastScrollY=this.scrollY,this.lastScrollX=this.scrollX,this.options.animationFrame&&this.scrolling&&0===this.speedY&&this.currentStopFrames++>this.stopFrames?void this.onScrollStop():(this.dispatchEvent("scroll:progress"),void(this.options.animationFrame&&(this.nextFrameID=requestAnimationFrame(this.onNextFrame))))},onScrollStop:function(){this.scrolling=!1,this.options.animationFrame&&(this.cancelNextFrame(),this.currentStopFrames=0),this.dispatchEvent("scroll:stop")},cancelNextFrame:function(){cancelAnimationFrame(this.nextFrameID)},dispatchEvent:function(type,eventObject){eventObject=eventObject||this.getAttributes(),(this.lastEvent.type!==type||this.lastEvent.scrollY!==eventObject.scrollY||this.lastEvent.scrollX!==eventObject.scrollX)&&(this.lastEvent={type:type,scrollY:eventObject.scrollY,scrollX:eventObject.scrollX},eventObject.target=this.scrollTarget,this.dispatcher.dispatch(type,eventObject))},on:function(event,listener){return this.dispatcher.addListener(event,listener)},off:function(event,listener){return this.dispatcher.removeListener(event,listener)}},module.exports=FastScroll},{delegatejs:2,eventdispatcher:3}],5:[function(require,module){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(target){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},{}]},{},[1])(1)});